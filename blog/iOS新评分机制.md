#iOS新评分机制

####背景
在iOS10.3之后，apple引入了一个新的评分机制，那就是我们可以在app内部就对该app进行评分。之前的弹窗方式的话，步骤比较繁琐。而且因为漫长的加载过程，导致很多用户，并不能给应用打出评分，甚至存在因此给出1分的评分，这都是不合适的。

Apple 同时对这个新机制进行了一些限制。首先，开发者在一个应用内每年最多使用 3 次弹窗来请求用户评分。此外，开发者只能使用该 API 请求评分，不能请求评价和反馈。

因此，采用新旧两种弹框共存的方式，同时克制弹出弹窗的次数，会比较合理。

####弹窗应如何弹出

首先，我觉得这个新的弹窗应该是针对老用户的，老用户的定义，在我看来是：

	1. 注册过的
	2. 注册登录时间较长，比如一个月
	3. 与我们的应用做过交互的，如点击购买，进行过收藏之类的。

针对这些用户，我们的订单系统给我提供了一些思路。就是我们可以把一些自营的商品标记为例如超值商品，当用户购买完成这些商品的时候，我们可以，给他弹出评分的弹框。这时候，用户应该不会介意给出自己的五星好评。
当然，这个弹窗是我们不能自如控制的，apple会在合适的时候弹出这个弹窗。

####注意
在开发时，所有评分请求都会通过，也就是说每次请求评分，评分对话框都会显示，但无法提交评分。在 Testflight 中，请求都不会被通过，所以如果 Testflight 测试时评分对话框没有正确显示，不要慌张。app 上架后，就会使用 Apple 方法在合适的时间显示对话框了。

